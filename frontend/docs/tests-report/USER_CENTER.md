# UserCenter 用户中心测试用例

本文档涵盖用户中心页面所有功能的详细测试用例，包括各 Tab 的功能测试、按钮交互、加载状态、空状态、认证检查等。

---

## 目录

1. [认证测试](#1-认证测试)
2. [顶部用户卡片](#2-顶部用户卡片)
3. [Tab 导航](#3-tab-导航)
4. [个人资料 (Profile)](#4-个人资料-profile)
5. [收藏列表 (Favorites)](#5-收藏列表-favorites)
6. [学习历史 (Learning History)](#6-学习历史-learning-history)
7. [通知中心 (Notifications)](#7-通知中心-notifications)
8. [孩子管理 (Children)](#8-孩子管理-children)
9. [我的评论 (My Reviews)](#9-我的评论-my-reviews)
10. [API Mock 数据参考](#10-api-mock-数据参考)

---

## 1. 认证测试

### 1.1 未登录用户访问

| 用例编号 | UC-001 |
|---------|--------|
| **前置条件** | 用户未登录，clearUser() 已执行 |
| **测试步骤** | 1. 直接访问 `/user?tab=profile`<br>2. 观察页面行为 |
| **预期结果** | 1. 显示警告消息：`t('auth.required')`<br>2. 自动重定向到 `/login?redirect=/user?tab=profile`<br>3. UserCenterPage 返回 null（不渲染） |
| **测试数据** | 无 |
| **优先级** | P0 - Critical |

### 1.2 登录后访问

| 用例编号 | UC-002 |
|---------|--------|
| **前置条件** | 用户已登录，isLoggedIn = true |
| **测试步骤** | 1. 访问 `/user?tab=profile`<br>2. 观察页面是否正常显示 |
| **预期结果** | 页面正常渲染，显示用户信息和 Tab 内容 |
| **测试数据** | MOCK_USER_PROFILE |
| **优先级** | P0 - Critical |

### 1.3 Token 过期

| 用例编号 | UC-003 |
|---------|--------|
| **前置条件** | 用户已登录，Token 已过期或无效 |
| **测试步骤** | 1. 携带无效 Token 访问 `/user?tab=profile` |
| **预期结果** | API 返回 401，返回登录页面 |
| **测试数据** | Authorization: Bearer invalid_token |
| **优先级** | P1 - High |

---

## 2. 顶部用户卡片

### 2.1 用户信息显示

| 用例编号 | UC-010 |
|---------|--------|
| **测试步骤** | 1. 登录后访问 UserCenter<br>2. 查看顶部用户卡片 |
| **预期结果** | 显示用户头像（首字母大写）、姓名、邮箱 |
| **验证点** | - 头像显示：`user.name.charAt(0).toUpperCase()`<br>- 用户名：`user.name`<br>- 邮箱：`user.email` |
| **测试数据** | MOCK_USER_PROFILE |
| **优先级** | P0 - Critical |

### 2.2 退出登录按钮

| 用例编号 | UC-011 |
|---------|--------|
| **测试步骤** | 1. 点击退出登录按钮<br>2. 观察确认弹窗 |
| **预期结果** | 1. 弹出确认对话框<br>2. 标题：`t('logout.button')`<br>3. 内容：`t('logout.confirm')`<br>4. 确认按钮红色危险样式 |
| **测试数据** | 无 |
| **优先级** | P0 - Critical |

### 2.3 确认退出登录

| 用例编号 | UC-012 |
|---------|--------|
| **前置条件** | 退出登录确认弹窗已打开 |
| **测试步骤** | 1. 点击确认按钮 |
| **预期结果** | 1. 显示成功消息：`t('logout.success')`<br>2. 清除用户状态<br>3. 跳转到首页 `/` |
| **测试数据** | 无 |
| **优先级** | P0 - Critical |

### 2.4 取消退出登录

| 用例编号 | UC-013 |
|---------|--------|
| **前置条件** | 退出登录确认弹窗已打开 |
| **测试步骤** | 1. 点击取消按钮或关闭弹窗 |
| **预期结果** | 弹窗关闭，用户状态保持 |
| **测试数据** | 无 |
| **优先级** | P2 - Medium |

### 2.5 教师仪表盘入口（已认证教师）

| 用例编号 | UC-014 |
|---------|--------|
| **前置条件** | teacherStatus === 'approved' |
| **测试步骤** | 1. 查看页面是否有教师仪表盘卡片 |
| **预期结果** | 1. 显示卡片：标题、描述、"Go to Dashboard"按钮 |
| **测试数据** | teacherStatus = 'approved' |
| **优先级** | P1 - High |

### 2.6 点击教师仪表盘按钮

| 用例编号 | UC-015 |
|---------|--------|
| **前置条件** | 教师仪表盘卡片可见 |
| **测试步骤** | 1. 点击 "Go to Dashboard" 按钮 |
| **预期结果** | 跳转到 `/teacher/dashboard` |
| **测试数据** | 无 |
| **优先级** | P1 - High |

---

## 3. Tab 导航

### 3.1 Tab 列表

| 用例编号 | UC-020 |
|---------|--------|
| **测试步骤** | 1. 查看 Tab 导航栏 |
| **预期结果** | 显示 6 个 Tab：Profile、Favorites、History、Notifications、Children、Reviews |
| **测试数据** | VALID_TABS 常量 |
| **优先级** | P0 - Critical |

### 3.2 URL 参数控制 Tab

| 用例编号 | UC-021 |
|---------|--------|
| **测试步骤** | 1. 访问 `/user?tab=favorites`<br>2. 访问 `/user?tab=children` |
| **预期结果** | 1. Tab 自动切换到对应内容<br>2. URL 是真实数据源 |
| **测试数据** | ?tab=favorites, ?tab=children |
| **优先级** | P0 - Critical |

### 3.3 无效 Tab 参数

| 用例编号 | UC-022 |
|---------|--------|
| **测试步骤** | 1. 访问 `/user?tab=invalid` |
| **预期结果** | 默认显示 Profile Tab |
| **测试数据** | ?tab=invalid |
| **优先级** | P1 - High |

### 3.4 点击切换 Tab

| 用例编号 | UC-023 |
|---------|--------|
| **测试步骤** | 1. 点击不同的 Tab |
| **预期结果** | URL 参数自动更新，对应内容显示 |
| **测试数据** | 无 |
| **优先级** | P0 - Critical |

---

## 4. 个人资料 (Profile)

### 4.1 加载状态

| 用例编号 | UC-030 |
|---------|--------|
| **前置条件** | API 正在加载 |
| **测试步骤** | 1. 访问 Profile Tab<br>2. 观察加载状态 |
| **预期结果** | 显示大型加载-spinner，testId: `user-profile-loading` |
| **测试数据** | isLoading = true |
| **优先级** | P0 - Critical |

### 4.2 显示模式 - 基本信息

| 用例编号 | UC-031 |
|---------|--------|
| **测试步骤** | 1. 进入 Profile Tab<br>2. 查看个人信息显示 |
| **预期结果** | 显示：头像、姓名、邮箱、性别、手机、微信 |
| **验证点** | - 头像：显示实际头像或默认值 DEFAULT_AVATAR<br>- 姓名：profile?.name 或 user?.name<br>- 邮箱：profile?.email 或 user?.email<br>- 性别：显示中文翻译（男/女/其他）<br>- 手机/微信：显示或 '-' |
| **测试数据** | MOCK_USER_PROFILE |
| **优先级** | P0 - Critical |

### 4.3 显示模式 - 隐私设置

| 用例编号 | UC-032 |
|---------|--------|
| **测试步骤** | 1. 进入 Profile Tab<br>2. 查看隐私设置部分 |
| **预期结果** | 显示 4 个开关，初始状态从 profile 数据读取 |
| **验证点** | - 显示邮箱：showEmail<br>- 显示手机：showPhone<br>- 显示微信：showWechat<br>- 显示真名：showRealName |
| **测试数据** | MOCK_USER_PROFILE |
| **优先级** | P1 - High |

### 4.4 进入编辑模式

| 用例编号 | UC-033 |
|---------|--------|
| **测试步骤** | 1. 点击 "Edit Profile" 按钮 |
| **预期结果** | 1. 切换到编辑模式<br>2. 显示表单<br>3. 显示头像选择器 |
| **测试数据** | 无 |
| **优先级** | P0 - Critical |

### 4.5 编辑模式 - 表单字段

| 用例编号 | UC-034 |
|---------|--------|
| **前置条件** | 编辑模式已开启 |
| **测试步骤** | 1. 查看编辑表单 |
| **预期结果** | 包含字段：姓名（必填）、性别（选择）、手机（选填）、微信（选填）<br>邮箱字段禁用 |
| **测试数据** | 无 |
| **优先级** | P0 - Critical |

### 4.6 编辑模式 - 头像选择

| 用例编号 | UC-035 |
|---------|--------|
| **前置条件** | 编辑模式已开启 |
| **测试步骤** | 1. 点击 "Default Avatars" Tab<br>2. 选择一个默认头像 |
| **预期结果** | 头像预览更新 |
| **测试数据** | 默认头像列表 |
| **优先级** | P1 - High |

### 4.7 编辑模式 - 上传头像

| 用例编号 | UC-036 |
|---------|--------|
| **前置条件** | 编辑模式已开启，"Upload" Tab 已选中 |
| **测试步骤** | 1. 点击上传按钮<br>2. 选择图片文件 |
| **预期结果** | 1. 打开图片裁剪弹窗<br>2. 裁剪后显示预览<br>3. 上传成功显示消息 |
| **测试数据** | 图片文件 |
| **优先级** | P1 - High |

### 4.8 保存个人资料

| 用例编号 | UC-037 |
|---------|--------|
| **前置条件** | 编辑模式已开启，表单已填写 |
| **测试步骤** | 1. 填写表单<br>2. 点击 "Save" 按钮 |
| **预期结果** | 1. 显示 loading<br>2. 1.5秒后显示成功消息<br>3. 退出编辑模式 |
| **测试数据** | form.validateFields() 通过 |
| **优先级** | P0 - Critical |

### 4.9 保存失败

| 用例编号 | UC-038 |
|---------|--------|
| **前置条件** | 编辑模式已开启 |
| **测试步骤** | 1. 表单验证失败<br>2. 点击 "Save" |
| **预期结果** | 显示验证错误消息，不关闭编辑模式 |
| **测试数据** | 必填字段为空 |
| **优先级** | P1 - High |

### 4.10 取消编辑

| 用例编号 | UC-039 |
|---------|--------|
| **前置条件** | 编辑模式已开启 |
| **测试步骤** | 1. 修改表单内容<br>2. 点击 "Cancel" |
| **预期结果** | 1. 表单重置<br>2. 退出编辑模式 |
| **测试数据** | 无 |
| **优先级** | P1 - High |

### 4.11 修改密码 - 必填验证

| 用例编号 | UC-040 |
|---------|--------|
| **测试步骤** | 1. 查看密码修改表单<br>2. 不填写任何字段 |
| **预期结果** | "Change Password" 按钮禁用 |
| **测试数据** | 无 |
| **优先级** | P1 - High |

### 4.12 修改密码 - 成功

| 用例编号 | UC-041 |
|---------|--------|
| **前置条件** | 三个密码字段都已填写 |
| **测试步骤** | 1. 填写当前密码<br>2. 填写新密码<br>3. 确认密码匹配<br>4. 点击 "Change Password" |
| **预期结果** | 1. 显示 loading<br>2. 1.5秒后显示成功消息<br>3. 表单重置 |
| **测试数据** | valid password form submission |
| **优先级** | P0 - Critical |

### 4.13 修改密码 - 密码不匹配

| 用例编号 | UC-042 |
|---------|--------|
| **测试步骤** | 1. 填写新密码<br>2. 填写不同的确认密码 |
| **预期结果** | 显示密码不匹配错误消息 |
| **测试数据** | newPassword !== confirmPassword |
| **优先级** | P1 - High |

### 4.14 删除账户 - 确认弹窗

| 用例编号 | UC-043 |
|---------|--------|
| **测试步骤** | 1. 点击 "Delete Account" 按钮 |
| **预期结果** | 1. 打开确认对话框<br>2. 显示警告信息<br>3. 确认按钮为红色 |
| **测试数据** | 无 |
| **优先级** | P0 - Critical |

### 4.15 删除账户 - 确认删除

| 用例编号 | UC-044 |
|---------|--------|
| **前置条件** | 删除账户确认弹窗已打开 |
| **测试步骤** | 1. 点击确认按钮 |
| **预期结果** | 1. 显示成功消息<br>2. 清除用户状态<br>3. 跳转到首页 |
| **测试数据** | 无 |
| **优先级** | P0 - Critical |

---

## 5. 收藏列表 (Favorites)

### 5.1 加载状态

| 用例编号 | UC-050 |
|---------|--------|
| **前置条件** | API 正在加载 |
| **测试步骤** | 1. 进入 Favorites Tab<br>2. 观察加载状态 |
| **预期结果** | 显示加载-spinner，testId: `favorites-list-loading` |
| **测试数据** | isLoading = true |
| **优先级** | P0 - Critical |

### 5.2 有收藏数据

| 用例编号 | UC-051 |
|---------|--------|
| **前置条件** | 有收藏的课程 |
| **测试步骤** | 1. 进入 Favorites Tab<br>2. 查看收藏列表 |
| **预期结果** | 1. 显示收藏卡片列表<br>2. 每个卡片显示：标题、机构、价格、评分 |
| **测试数据** | favorites 数组非空 |
| **优先级** | P0 - Critical |

### 5.3 空状态

| 用例编号 | UC-052 |
|---------|--------|
| **前置条件** | 没有收藏任何课程 |
| **测试步骤** | 1. 进入 Favorites Tab |
| **预期结果** | 1. 显示空状态<br>2. 显示心形图标<br>3. 标题：`t('favorites.empty')`<br>4. 描述：`t('favorites.emptyDesc')` |
| **测试数据** | favorites = [] |
| **优先级** | P0 - Critical |

### 5.4 取消收藏

| 用例编号 | UC-053 |
|---------|--------|
| **前置条件** | 有收藏数据 |
| **测试步骤** | 1. 点击 "取消收藏" 按钮 |
| **预期结果** | 1. 按钮显示 loading<br>2. 显示成功消息：`t('favorites.removeSuccess')`<br>3. 收藏列表刷新 |
| **测试数据** | favorites 数组有数据 |
| **优先级** | P0 - Critical |

### 5.5 取消收藏失败

| 用例编号 | UC-054 |
|---------|--------|
| **前置条件** | 有收藏数据 |
| **测试步骤** | 1. API 调用失败<br>2. 点击 "取消收藏" |
| **预期结果** | 显示错误消息：`t('favorites.removeError')` |
| **测试数据** | API 返回错误 |
| **优先级** | P1 - High |

---

## 6. 学习历史 (Learning History)

### 6.1 加载状态

| 用例编号 | UC-060 |
|---------|--------|
| **前置条件** | API 正在加载 |
| **测试步骤** | 1. 进入 History Tab<br>2. 观察加载状态 |
| **预期结果** | 显示加载-spinner，testId: `learning-history-loading` |
| **测试数据** | isLoading = true |
| **优先级** | P0 - Critical |

### 6.2 有历史数据 - 显示

| 用例编号 | UC-061 |
|---------|--------|
| **前置条件** | 有学习历史 |
| **测试步骤** | 1. 进入 History Tab |
| **预期结果** | 1. 显示历史记录列表<br>2. 每个记录显示：课程标题、机构、最后查看时间、学习状态 |
| **测试数据** | history 数组非空 |
| **优先级** | P0 - Critical |

### 6.3 状态标签显示

| 用例编号 | UC-062 |
|---------|--------|
| **测试步骤** | 1. 查看历史记录状态 |
| **预期结果** | - completed: 绿色标签<br>- in_progress: 蓝色标签<br>- not_started: 默认灰色标签 |
| **测试数据** | status 字段值 |
| **优先级** | P0 - Critical |

### 6.4 孩子筛选器

| 用例编号 | UC-063 |
|---------|--------|
| **前置条件** | 有多个孩子 |
| **测试步骤** | 1. 查看筛选按钮 |
| **预期结果** | 1. 显示 "All" 按钮<br>2. 显示 "Me" 按钮<br>3. 显示每个孩子的名字按钮 |
| **测试数据** | children.length > 1 |
| **优先级** | P1 - High |

### 6.5 筛选历史记录

| 用例编号 | UC-064 |
|---------|--------|
| **前置条件** | 有多个孩子 |
| **测试步骤** | 1. 点击某个孩子名字筛选器 |
| **预期结果** | 只显示该孩子的学习历史 |
| **测试数据** | learnerId 匹配 |
| **优先级** | P1 - High |

### 6.6 空状态 - 无历史

| 用例编号 | UC-065 |
|---------|--------|
| **前置条件** | 没有学习历史 |
| **测试步骤** | 1. 进入 History Tab |
| **预期结果** | 1. 显示空状态<br>2. 标题：`t('history.empty')` |
| **测试数据** | history = [] |
| **优先级** | P0 - Critical |

### 6.7 空状态 - 筛选无结果

| 用例编号 | UC-066 |
|---------|--------|
| **前置条件** | 有历史数据，但筛选后无匹配 |
| **测试步骤** | 1. 切换到某孩子筛选器<br>2. 该孩子无历史 |
| **预期结果** | 显示筛选无结果状态 |
| **测试数据** | 筛选后数组为空 |
| **优先级** | P2 - Medium |

### 6.8 删除历史记录

| 用例编号 | UC-067 |
|---------|--------|
| **前置条件** | 有历史数据 |
| **测试步骤** | 1. 点击删除按钮 |
| **预期结果** | 1. 历史记录移除<br>2. 列表刷新 |
| **测试数据** | history 数组有数据 |
| **优先级** | P1 - High |

### 6.9 日期格式化

| 用例编号 | UC-068 |
|---------|--------|
| **测试步骤** | 1. 查看历史记录日期 |
| **预期结果** | - 今天：显示 "Today"<br>- 昨天：显示 "Yesterday"<br>- 7天内：显示 "X days ago"<br>- 超过7天：显示格式化日期 |
| **测试数据** | lastViewedAt 字段 |
| **优先级** | P2 - Medium |

---

## 7. 通知中心 (Notifications)

### 7.1 加载状态

| 用例编号 | UC-070 |
|---------|--------|
| **前置条件** | API 正在加载 |
| **测试步骤** | 1. 进入 Notifications Tab<br>2. 观察加载状态 |
| **预期结果** | 显示加载-spinner |
| **测试数据** | isLoading = true |
| **优先级** | P0 - Critical |

### 7.2 有通知 - 显示

| 用例编号 | UC-071 |
|---------|--------|
| **前置条件** | 有通知 |
| **测试步骤** | 1. 进入 Notifications Tab |
| **预期结果** | 1. 显示通知列表<br>2. 未读通知有高亮背景<br>3. 显示类型图标、标题、内容、时间 |
| **测试数据** | notifications 数组非空 |
| **优先级** | P0 - Critical |

### 7.3 通知类型

| 用例编号 | UC-072 |
|---------|--------|
| **测试步骤** | 1. 查看不同类型的通知 |
| **预期结果** | 支持类型：system、course、promotion、reminder |
| **测试数据** | type 字段 |
| **优先级** | P1 - High |

### 7.4 未读计数

| 用例编号 | UC-073 |
|---------|--------|
| **前置条件** | 有未读通知 |
| **测试步骤** | 1. 查看 Tab 头部 |
| **预期结果** | 显示 "X unread" |
| **测试数据** | unreadCount > 0 |
| **优先级** | P1 - High |

### 7.5 标记单条已读

| 用例编号 | UC-074 |
|---------|--------|
| **前置条件** | 有未读通知 |
| **测试步骤** | 1. 点击标记已读按钮 |
| **预期结果** | 1. 通知标记为已读<br>2. 未读计数减少<br>3. 背景高亮移除 |
| **测试数据** | read = true |
| **优先级** | P0 - Critical |

### 7.6 标记全部已读

| 用例编号 | UC-075 |
|---------|--------|
| **前置条件** | 有未读通知 |
| **测试步骤** | 1. 点击 "Mark All as Read" |
| **预期结果** | 1. 所有通知标记已读<br>2. 未读计数归零<br>3. 显示成功消息 |
| **测试数据** | 无 |
| **优先级** | P0 - Critical |

### 7.7 删除单条通知

| 用例编号 | UC-076 |
|---------|--------|
| **前置条件** | 有通知 |
| **测试步骤** | 1. 点击删除按钮 |
| **预期结果** | 1. 通知从列表移除<br>2. 列表刷新 |
| **测试数据** | 无 |
| **优先级** | P1 - High |

### 7.8 空状态

| 用例编号 | UC-077 |
|---------|--------|
| **前置条件** | 没有通知 |
| **测试步骤** | 1. 进入 Notifications Tab |
| **预期结果** | 1. 显示空状态<br>2. 标题：`t('notifications.empty')`<br>3. 描述：`t('notifications.emptyDesc')` |
| **测试数据** | notifications = [] |
| **优先级** | P0 - Critical |

### 7.9 自动刷新

| 用例编号 | UC-078 |
|---------|--------|
| **测试步骤** | 1. 等待 30 秒 |
| **预期结果** | 通知列表自动刷新 |
| **测试数据** | refetchInterval: 30000 |
| **优先级** | P2 - Medium |

---

## 8. 孩子管理 (Children)

### 8.1 加载状态

| 用例编号 | UC-080 |
|---------|--------|
| **前置条件** | API 正在加载 |
| **测试步骤** | 1. 进入 Children Tab<br>2. 观察加载状态 |
| **预期结果** | 显示加载-spinner |
| **测试数据** | isLoading = true |
| **优先级** | P0 - Critical |

### 8.2 有孩子 - 显示列表

| 用例编号 | UC-081 |
|---------|--------|
| **前置条件** | 有孩子数据 |
| **测试步骤** | 1. 进入 Children Tab |
| **预期结果** | 1. 显示孩子卡片列表<br>2. 每个卡片显示：姓名、性别、年级 |
| **测试数据** | children 数组非空 |
| **优先级** | P0 - Critical |

### 8.3 添加孩子按钮

| 用例编号 | UC-082 |
|---------|--------|
| **测试步骤** | 1. 查看页面头部<br>2. 点击 "Add Child" |
| **预期结果** | 1. 显示 "+" 图标按钮<br>2. 点击打开添加弹窗 |
| **测试数据** | 无 |
| **优先级** | P0 - Critical |

### 8.4 添加孩子 - 表单字段

| 用例编号 | UC-083 |
|---------|--------|
| **前置条件** | 添加孩子弹窗已打开 |
| **测试步骤** | 1. 查看表单字段 |
| **预期结果** | 包含：姓名（必填）、性别（必填）、年级（必填） |
| **测试数据** | 无 |
| **优先级** | P0 - Critical |

### 8.5 添加孩子 - 姓名验证

| 用例编号 | UC-084 |
|---------|--------|
| **前置条件** | 添加孩子弹窗已打开 |
| **测试步骤** | 1. 姓名留空<br>2. 点击保存 |
| **预期结果** | 显示必填错误消息 |
| **测试数据** | name = '' |
| **优先级** | P1 - High |

### 8.6 添加孩子 - 姓名长度验证

| 用例编号 | UC-085 |
|---------|--------|
| **前置条件** | 添加孩子弹窗已打开 |
| **测试步骤** | 1. 填写姓名少于2字符<br>2. 点击保存 |
| **预期结果** | 显示 "Name must be 2-20 characters" |
| **测试数据** | name.length < 2 |
| **优先级** | P1 - High |

### 8.7 添加孩子 - 成功

| 用例编号 | UC-086 |
|---------|--------|
| **前置条件** | 添加孩子弹窗已打开，表单有效 |
| **测试步骤** | 1. 填写所有必填字段<br>2. 点击保存 |
| **预期结果** | 1. 弹窗关闭<br>2. 显示成功消息<br>3. 孩子列表刷新 |
| **测试数据** | valid form submission |
| **优先级** | P0 - Critical |

### 8.8 添加孩子 - 取消

| 用例编号 | UC-087 |
|---------|--------|
| **前置条件** | 添加孩子弹窗已打开 |
| **测试步骤** | 1. 填写表单<br>2. 点击取消 |
| **预期结果** | 1. 弹窗关闭<br>2. 表单重置 |
| **测试数据** | 无 |
| **优先级** | P2 - Medium |

### 8.9 编辑孩子

| 用例编号 | UC-088 |
|---------|--------|
| **前置条件** | 有孩子数据 |
| **测试步骤** | 1. 点击编辑按钮<br>2. 修改表单<br>3. 点击保存 |
| **预期结果** | 1. 弹窗打开，预填数据<br>2. 修改保存<br>3. 显示成功消息 |
| **测试数据** | valid edit submission |
| **优先级** | P0 - Critical |

### 8.10 删除孩子 - 确认

| 用例编号 | UC-089 |
|---------|--------|
| **前置条件** | 有孩子数据 |
| **测试步骤** | 1. 点击删除按钮 |
| **预期结果** | 1. 打开确认对话框<br>2. 显示孩子名字<br>3. 确认按钮红色 |
| **测试数据** | 无 |
| **优先级** | P0 - Critical |

### 8.11 删除孩子 - 确认删除

| 用例编号 | UC-090 |
|---------|--------|
| **前置条件** | 删除确认对话框已打开 |
| **测试步骤** | 1. 点击确认 |
| **预期结果** | 1. 孩子从列表移除<br>2. 显示成功消息 |
| **测试数据** | 无 |
| **优先级** | P0 - Critical |

### 8.12 删除孩子 - 取消

| 用例编号 | UC-091 |
|---------|--------|
| **前置条件** | 删除确认对话框已打开 |
| **测试步骤** | 1. 点击取消 |
| **预期结果** | 对话框关闭，孩子保留 |
| **测试数据** | 无 |
| **优先级** | P2 - Medium |

### 8.13 年级选择器分组

| 用例编号 | UC-092 |
|---------|--------|
| **测试步骤** | 1. 打开年级选择器 |
| **预期结果** | 分组显示：学前、小学(Y1-Y6)、初中(Y7-Y9)、高中(Y10-Y13) |
| **测试数据** | grade options |
| **优先级** | P1 - High |

### 8.14 空状态

| 用例编号 | UC-093 |
|---------|--------|
| **前置条件** | 没有孩子 |
| **测试步骤** | 1. 进入 Children Tab |
| **预期结果** | 1. 显示空状态<br>2. 提供 "Add Child" 按钮 |
| **测试数据** | children = [] |
| **优先级** | P0 - Critical |

---

## 9. 我的评论 (My Reviews)

### 9.1 加载状态

| 用例编号 | UC-100 |
|---------|--------|
| **前置条件** | API 正在加载 |
| **测试步骤** | 1. 进入 Reviews Tab<br>2. 观察加载状态 |
| **预期结果** | 显示加载-spinner |
| **测试数据** | isLoading = true |
| **优先级** | P0 - Critical |

### 9.2 有评论 - 显示

| 用例编号 | UC-101 |
|---------|--------|
| **前置条件** | 有评论 |
| **测试步骤** | 1. 进入 Reviews Tab |
| **预期结果** | 1. 显示评论卡片列表<br>2. 每个卡片显示：教师名字、课程、评分、内容、日期 |
| **测试数据** | reviews 数组非空 |
| **优先级** | P0 - Critical |

### 9.3 评论卡片操作

| 用例编号 | UC-102 |
|---------|--------|
| **前置条件** | 有评论 |
| **测试步骤** | 1. 查看评论卡片 |
| **预期结果** | 1. 显示编辑按钮<br>2. 显示删除按钮 |
| **测试数据** | 无 |
| **优先级** | P0 - Critical |

### 9.4 编辑评论

| 用例编号 | UC-103 |
|---------|--------|
| **前置条件** | 有评论 |
| **测试步骤** | 1. 点击编辑按钮<br>2. 修改评分和内容<br>3. 点击提交 |
| **预期结果** | 1. 打开编辑弹窗<br>2. 预填原始数据<br>3. 保存成功后刷新列表 |
| **测试数据** | valid edit submission |
| **优先级** | P0 - Critical |

### 9.5 删除评论

| 用例编号 | UC-104 |
|---------|--------|
| **前置条件** | 有评论 |
| **测试步骤** | 1. 点击删除按钮 |
| **预期结果** | 1. 评论从列表移除<br>2. 列表刷新 |
| **测试数据** | 无 |
| **优先级** | P0 - Critical |

### 9.6 删除评论 - 确认

| 用例编号 | UC-105 |
|---------|--------|
| **前置条件** | 有评论 |
| **测试步骤** | 1. 点击删除按钮<br>2. 点击确认 |
| **预期结果** | 显示成功消息，评论移除 |
| **测试数据** | 无 |
| **优先级** | P1 - High |

### 9.7 空状态

| 用例编号 | UC-106 |
|---------|--------|
| **前置条件** | 没有评论 |
| **测试步骤** | 1. 进入 Reviews Tab |
| **预期结果** | 显示空状态："No reviews yet" |
| **测试数据** | reviews = [] |
| **优先级** | P0 - Critical |

---

## 10. API Mock 数据参考

### 10.1 用户资料 (MOCK_USER_PROFILE)

```json
{
  "id": "user-001",
  "email": "user@example.com",
  "name": "测试用户",
  "avatar": "https://api.dicebear.com/7.x/avataaars/svg?seed=user",
  "role": "student",
  "isTeacher": false,
  "gender": "male",
  "phone": "021-123-4567",
  "wechat": "user123",
  "showEmail": true,
  "showPhone": false,
  "showWechat": true,
  "showRealName": false,
  "createdAt": "2024-01-01T00:00:00Z"
}
```

### 10.2 孩子列表 (MOCK_CHILDREN)

```json
[
  {
    "id": "child-001",
    "name": "张小明",
    "gender": "male",
    "grade": "secondary-7",
    "gradeLabel": "Year 7"
  },
  {
    "id": "child-002",
    "name": "张小红",
    "gender": "female",
    "grade": "primary-3",
    "gradeLabel": "Year 3"
  }
]
```

### 10.3 学习历史 (MOCK_LEARNING_HISTORY)

```json
[
  {
    "id": "history-001",
    "courseId": "1",
    "courseTitle": "高中数学提高班",
    "institution": "Auckland Education Center",
    "lastViewedAt": "2026-01-28T10:30:00Z",
    "status": "completed",
    "learnerId": null
  }
]
```

### 10.4 通知 (MOCK_NOTIFICATIONS)

```json
{
  "data": [
    {
      "id": "notif-001",
      "type": "system",
      "title": "Welcome to FindClass!",
      "content": "Thank you for joining us.",
      "read": false,
      "createdAt": "2026-01-28T09:00:00Z"
    }
  ],
  "unreadCount": 1
}
```

### 10.5 评论 (MOCK_USER_REVIEWS)

```json
[
  {
    "id": "review-user-001",
    "teacherId": "teacher-001",
    "teacherName": "张老师",
    "courseTitle": "高中数学提高班",
    "overallRating": 5,
    "content": "老师讲解非常清晰！",
    "createdAt": "2026-01-15T10:00:00Z"
  }
]
```

---

## 测试优先级说明

| 优先级 | 说明 | 覆盖范围 |
|--------|------|---------|
| P0 - Critical | 核心功能，必须通过 | 认证、登录状态、主要操作 |
| P1 - High | 重要功能 | 表单验证、错误处理 |
| P2 - Medium | 一般功能 | 边界情况、辅助功能 |

---

## 相关文件

- 主页面：`src/features/user/pages/UserCenterPage/index.tsx`
- UserProfile：`src/features/user/pages/UserCenterPage/sections/UserProfile/index.tsx`
- FavoritesList：`src/features/user/pages/UserCenterPage/sections/FavoritesList/index.tsx`
- LearningHistory：`src/features/user/pages/UserCenterPage/sections/LearningHistory/index.tsx`
- NotificationList：`src/features/user/pages/UserCenterPage/sections/NotificationList/index.tsx`
- ChildrenManagement：`src/features/user/pages/UserCenterPage/sections/ChildrenManagement/index.tsx`
- MyReviews：`src/features/user/pages/UserCenterPage/sections/MyReviews/index.tsx`
- Mock 数据：`docs/MSW/MSW-USER-CENTER.md`
