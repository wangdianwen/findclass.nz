# =============================================================================
# FindClass Backend - Staging Environment
# =============================================================================
# This file is for staging/preview deployments
# Uses seeded database for QA testing
# =============================================================================

# Environment
NODE_ENV=staging
PORT=3000

# AWS Configuration (LocalStack or AWS)
AWS_REGION=ap-southeast-2
AWS_ACCESS_KEY_ID=local
AWS_SECRET_ACCESS_KEY=local

# S3 (LocalStack)
S3_ENDPOINT=http://localhost:4566

# SMTP (MailHog for testing)
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_API_PORT=8025
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=
FROM_EMAIL=no-reply@findclass.nz

# Frontend URL
FRONTEND_URL=http://localhost:3002
CORS_ORIGIN=http://localhost:3002

# JWT (Staging secrets)
JWT_SECRET=staging-secret-key-at-least-32-characters-long
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Logging
LOG_LEVEL=info

# LocalStack endpoint
LOCALSTACK_ENDPOINT=http://localhost:4566

# Seed sample data (true for staging/preview)
SEED_SAMPLE_DATA=true

# Rate Limiting (very relaxed for integration testing - 100+ QPS)
# Window of 1 second with high limits allows for rapid testing
RATE_LIMIT_WINDOW_MS=1000
RATE_LIMIT_MAX_REQUESTS=10000
RATE_LIMIT_MAX_REQUESTS_AUTHENTICATED=10000
RATE_LIMIT_EMAIL_WINDOW=1
RATE_LIMIT_EMAIL_MAX=1000
RATE_LIMIT_IP_WINDOW=1
RATE_LIMIT_IP_MAX=10000
RATE_LIMIT_MAX_ATTEMPTS=10000
RATE_LIMIT_LOCKOUT_SECONDS=1
